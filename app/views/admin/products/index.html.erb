<% provide :title, t(".page_title")%>

<div class="panel panel-default panel-table">
  <div class="panel-heading">
    <div class="row">
      <div class="col col-xs-6">
        <h3 class="panel-title"><%= t ".panel_title" %></h3>
      </div>
      <div class="col col-xs-2">
        <%= link_to t(".csv"), admin_products_path(format: "csv"),
          class: "btn btn-success" %>
      </div>
    </div>

    <div class="row">
      <div class="col-sm-12">
      <%= form_tag admin_products_path, :method => :get,
      class: "form-inline" do %>

        <%= label_tag :name, t(".name"), class: "control-label col-sm-1" %>
        <%= text_field_tag :name, params[:name], class: "form-control col-sm-2" %>

        <%= select_tag :category_id,
          options_from_collection_for_select(@supports.all_categories, :id, :name,
          params[:category_id]), {prompt: t(".category"), class: "form-control"} %>
        <%= select_tag :provider_id,
          options_from_collection_for_select(@supports.all_providers, :id, :name,
          params[:provider_id]), {prompt: t(".provider"), class: "form-control"} %>

        <%= submit_tag t(".search"), class: "btn btn-success col-sm-2" %>
      <% end %>
      </div>
    </div>

    <div class="row">
      <div class="col-md-6">
        <%= page_entries_info @products %>
      </div>
      <div class="col-md-6">
        <%= paginate @products %>
      </div>
    </div>
  </div>
  <div class="panel-body">
    <table class="table table-striped table-bordered table-list">
      <thead>
        <tr>
          <th><%= t ".index" %></th>
          <th><%= t ".name" %></th>
          <th><%= t ".price" %></th>
          <th><%= t ".quantity" %></th>
          <th><%= t ".status" %></th>
          <th><%= t ".rating" %></th>
          <th><%= t ".category" %></th>
          <th><%= t ".provider" %></th>
          <th><em class="fa fa-cog"></em></th>
        </tr>
      </thead>
      <tbody>
        <% @products.each_with_index do |product, index| %>
        <%= render "product", product: product, index: index %>
        <% end %>
      </tbody>
    </table>

  </div>
  <div class="panel-footer">
    <div class="row">
      <div class="col col-xs-4">
        <%= page_entries_info @products %>
      </div>
      <div class="col col-xs-8">
        <%= paginate @products %>
      </div>
    </div>
  </div>
</div>
